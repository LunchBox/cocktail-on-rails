<%= simple_form_for item, html: { class: "my-4", data: { controller: 'nested-form', nested_form_wrapper_selector_value: '.nested-form-wrapper' } } do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <%= f.file_field :cover_image if false %>
  <%= f.input :name, label_html: {class:"block"}, wrapper_html: {class:"my-4"}, input_html: {placeholder: "Item Name"} %>


	<div class="my-4"> 
    <h3 class="font-bold">Labels</h3>

    <template data-nested-form-target="template">
      <%= f.fields_for :labels, ActsAsTaggableOn::Tag.new, child_index: 'NEW_RECORD' do |sf| %>
        <%= render "label_fields", f: sf %>
      <% end %>
    </template>

    <%= f.fields_for :labels do |sf| %>
      <%= render "label_fields", f: sf %>
    <% end %>

    <!-- Inserted elements will be injected before that target. -->
    <div data-nested-form-target="target"></div>

    <div class="my-2">
      <button type="button" data-action="nested-form#add" class="btn btn--light">Add Label</button>
    </div>
  </div>


	<% if false %>
  <div data-controller="autocomplete" data-autocomplete-url-value="/items/search" class="my-4">
    <%= f.input :parent_name, label: "Parent Category", label_html: {class: "block"}, input_html: {class: "w-auto", data: {autocomplete_target: 'input'} } %>
    <ul class="list-group absolute" data-autocomplete-target="results"></ul>
  </div>
	<% end %>

  <%= f.submit class: "btn btn--primary" %>
<% end%>
